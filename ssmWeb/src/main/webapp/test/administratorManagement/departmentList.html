<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>科室管理列表</title>
    <link rel="stylesheet" href="/plugin/layui/css/layui.css" />
    <script type="text/javascript" src="/js/jquery-3.4.0.js"></script>
    <script src="/plugin/layui/layui.js"></script>
</head>
<body class="layui-layout-body">
<div>
    <div style="padding: 15px;height: 95%;">
        <table id="departmentList" lay-filter="departmentList"></table>
    </div>
</div>
</body>
<script type="text/html" id="toolbarDemo">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="insert">新增</button>
    </div>
</script>
<!--操作按钮-->
<script type="text/html" id="toolBarButton">
    <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
</script>
<script>
    //JavaScript代码区域
    layui.use(['element','table','laypage'], function(){
        var table = layui.table;
        //第一个实例
        table.render({
            elem: '#departmentList',
            height: 500,
            // url: '/user/findUserInfoList', //数据接口,
            // method: 'POST',
            data: [
                {
                    "DepartmentID": "B01",
                    "Department": "眼科",
                    "Description": "眼科是安徽省特色专科，硕士学位授予点、眼科专科医师培训基地。目前学科有四个病区，包括总院、南区、康复部、微创医学中心各一个病区，共有正式床位99张。科室现有眼底病、白内障、综合眼病等专业组，学科带头人及各专业组骨干技术水平较高，人才队伍结构合理，形成技术团队，处理疑难重症能力强。",
                    "Number": "11",
                    "Telephone": "62901001",
                    "Location": "一楼101"
                },
                {
                    "DepartmentID": "B02",
                    "Department": "麻醉科",
                    "Description": "安徽省立医院麻醉科创建于二十世纪六十年代初，四十多年来经过省内外著名的老一辈麻醉学专家高玉华教授和陈昆洲教授等几代人的艰苦创业和不懈努力，在科室全体医护人员的积极进取下，学科专业人才荟萃、整体实力雄厚，形成了一支代表省内一流水平的麻醉专业队伍。",
                    "Number": "8",
                    "Telephone": "62901002",
                    "Location": "二楼202"
                },
                {
                    "DepartmentID": "B03",
                    "Department": "口腔科",
                    "Description": "安徽省口腔医学的发源地，是安徽省唯一一家省卫计委口腔临床医学重点建设学科。在社会各界的支持和帮助下，经过半个多世纪的建设和发展，现已成为集医疗、教学、科研、预防保健于一体的现代化口腔医学中心，是该省口腔疾患主要诊疗地和主要的口腔医学教育和科研基地。",
                    "Number": "9",
                    "Telephone": "62901003",
                    "Location": "二楼203"
                },
                {
                    "DepartmentID": "B04",
                    "Department": "五官科",
                    "Description": "五官科拥有先进的检查和治疗设备,主要设备有:裂隙灯显微镜,检眼，鼓膜治疗仪,TOPCON非接触眼压计(日本),TOPCON全自动电脑验光仪(日本),带状光检影镜,MADSEN听力计(丹麦),MADSEN耳声阻抗测量仪(丹麦),耳鼻喉治疗台,微波治疗仪。",
                    "Number": "11",
                    "Telephone": "62901004",
                    "Location": "二楼204"
                },
                {
                    "DepartmentID": "B05",
                    "Department": "放射科",
                    "Description": "放射科临床业务范围涉及临床摄片、胸透及核磁共振检查，基本满足各种临床疾病所需的医学影像类检查需求。",
                    "Number": "9",
                    "Telephone": "62901005",
                    "Location": "二楼205"
                },
                {
                    "DepartmentID": "B06",
                    "Department": "B超室",
                    "Description": "B超室现配置有GE-P5彩色超声诊断仪1台，GE-C3黑白超声诊断仪1台。已开展腹部疾病超声诊断、胸腔疾病超声诊断、产科疾病超声诊断经阴道超声诊断）、小器官及体表包块疾病超声诊断等各项检查。",
                    "Number": "8",
                    "Telephone": "62901006",
                    "Location": "三楼303"
                },
                {
                    "DepartmentID": "B07",
                    "Department": "血液科",
                    "Description": "血液科由三部分组成普通病区洁净病房和实验室普通病区二个(五南病区和1号楼综五病区共设普通病床61张病床)洁净病房—1号楼二层设百级层流洁净病房4间血液病实验室为临床提供各项必要检测项目, 洁净病房和实验室配备一流的硬件设施拥有十几台万元以上大型医疗仪器设备的实验室。",
                    "Number": "10",
                    "Telephone": "62901007",
                    "Location": "三楼304"
                },
                {
                    "DepartmentID": "B08",
                    "Department": "神经内科",
                    "Description": "目前科室收治多种肿瘤，包括有：头颈部肿瘤 淋巴瘤 肺癌 消化道肿瘤 乳癌骨肉瘤 恶性间质瘤 卵巢癌等。科室每年承担多种抗肿瘤新药的临床验证和多项课题的研究工作。",
                    "Number": "12",
                    "Telephone": "62901008",
                    "Location": "三楼307"
                },
                {
                    "DepartmentID": "B09",
                    "Department": "妇产科",
                    "Description": "研究女性生殖器官疾病的病因、病理、诊断及防治，妊娠、分娩的生理和病理变化，高危妊娠及难产的预防和诊治，女性生殖内分泌，计划生育及妇女保健等。",
                    "Number": "16",
                    "Telephone": "62901009",
                    "Location": "三楼305"
                },
                {
                    "DepartmentID": "B10",
                    "Department": "骨科",
                    "Description": "专门研究骨骼肌肉系统的解剖、生理与病理，运用药物、手术及物理方法保持和发展这一系统的正常形态与功能，以及治疗这一系统的伤病。",
                    "Number": "10",
                    "Telephone": "62901010",
                    "Location": "三楼310"
                }
            ],
            toolbar: '#toolbarDemo',
            defaultToolbar: false,
            page: { //支持传入 laypage 组件的所有参数（某些参数除外，如：jump/elem） - 详见文档
                layout: ['first', 'prev', 'page', 'next','last','limit', 'count', 'skip'], //自定义分页布局
                //curr: 5, //设定初始在第 5 页
                limit: 10,
                limits: [10, 20, 30, 40, 50],
                prev: '上一页',
                next: '下一页',
                groups: 5, //只显示 5 个连续页码
                skip: true,
                first: '首页', //不显示首页
                last: '尾页'//不显示尾页
            },
            even: true,
            skin: 'row',
            cols: [[ //表头
                {type: 'numbers', title: '序号', width:'5%' },
                {field: 'DepartmentID', title: '科室编号', width:'10%',align: 'center'},
                {field: 'Department', title: '科室名称', width:'10%',align: 'center'},
                {field: 'Description', title: '科室描述', width:'25%',align: 'center'},
                {field: 'Number', title: '科室人员数', width:'10%',align: 'center'},
                {field: 'Telephone', title: '资讯电话', width:'10%',align: 'center'},
                {field: 'Location', title: '科室位置', width:'15%',align: 'center'},
                {fixed: 'right',title: '操作', width: '15%',align: 'center',toolbar: '#toolBarButton'}
            ]],
            done: function(res, curr, count){
            }
        });
        //头工具栏事件
        table.on('toolbar(departmentList)', function(obj){
            switch(obj.event){
                case 'insert':
                    layer.open({
                        type: 2,
                        title: '新增',
                        area:['100%','100%'],
                        offset: 'auto',
                        content: ['/page/administratorManagement/editDepartmentInfo.html','no'] //这里content是一个URL，如果你不想让iframe出现滚动条，你还可以content: ['http://sentsin.com', 'no']
                    });
                    break;
            }
        });
        //监听行工具事件
        //注：tool 是工具条事件名，test 是 table 原始容器的属性 lay-filter="对应的值"
        table.on('tool(departmentList)', function(obj){
            var data = obj.data, //获得当前行数据
                layEvent = obj.event; //获得 lay-event 对应的值
            if(layEvent === 'detail'){
                layer.open({
                    type: 2,
                    title: '查看',
                    area:['80%','80%'],
                    content: ['/page/login/personInfoView.html','no'] //这里content是一个URL，如果你不想让iframe出现滚动条，你还可以content: ['http://sentsin.com', 'no']
                });
            } else if(layEvent === 'del'){
                layer.confirm('真的删除行么', function(index){
                    obj.del(); //删除对应行（tr）的DOM结构
                    layer.close(index);
                    //向服务端发送删除指令
                });
            } else if(layEvent === 'edit'){
                layer.msg('编辑操作');
            }
        });
    });
</script>
</html>